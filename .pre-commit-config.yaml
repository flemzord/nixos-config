repos:
  - repo: local
    hooks:
    - id: statix
      name: statix (Nix)
      description: Format Nix code with statix.
      entry: statix
      args: [ "fix" ]
      pass_filenames: false
      language: system
      files: \.nix$

    -  id: nixpkgs-fmt
       name: nixpkgs-fmt
       description: Format nix code with nixpkgs-fmt.
       entry: nixpkgs-fmt .
       language: system
       files: \.nix$
       require_serial: true

    - id: statix-check
      name: statix check
      description: Lint Nix code with statix (no changes)
      entry: statix
      args: [ "check" ]
      pass_filenames: false
      language: system
      files: \.nix$

    - id: deadnix
      name: deadnix
      description: Detect unused Nix code
      entry: deadnix
      args: ["--fail"]
      language: system
      files: \.nix$
